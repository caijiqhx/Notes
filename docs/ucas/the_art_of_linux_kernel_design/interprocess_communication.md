# 进程间通信

> 讨论班准备内容 Linux 0.11 进程间通信

Linux 0.11 设计了两套机制来实现进程间通信的需求，一套是“管道机制”，另一套是“信号机制”。

## 管道机制

每个管道允许两个进程交互数据，一个输入一个输出。即实现了进程间通信，同时又不需要非法跨越进程间边界。操作系统在内存中为每个管道开辟一页内存，并赋予这一页内存文件属性。这一页内存由两个进程共享，但不会分配给任何进程，只有内核掌握。

Linux 0.11 中，管道操作分为两部分，一部分是创建管道，另一部分是管道的读写操作。

### 管道的创建过程

管道就是一页内存，但进程要以操作文件的方式对其进行操作，这就要求管道具备一些文件属性并减少页属性：

- 文件属性表现为，创建管道相当于创建一个文件，如进程 task\_struct 中 flip 和 file\_table[64] 挂接、新建 inode、file\_table[64] 和文件 inode 挂接等工作。最终进程只要知道自己在操作管道类型的文件即可。
- 减少页属性表现为，进程不能像访问自己用户空间的数据一样访问它，不能映射到进程的线性地址空间内。两个进程一个读一个写，不会产生写保护异常复制页面的情况。